<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="x-ua-compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ajax test</title>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<input type="text" name="i1">+
<input type="text" name="i2">=
<input type="text" name="i3">
{% csrf_token %}
<button id="b1">计算</button>
<script src="/static/ajax_setup.js"></script>
<script>
        $('#b1').click(function () {
        $.ajax({
            url: '/calc/',
            type: 'post',
<!--            headers: {"X-CSRFToken": $("[name = 'csrfmiddlewaretoken']").val()},-->
            data: {
                i1: $('[name="i1"]').val(),
                i2: $('[name="i2"]').val(),
<!--                "csrfmiddlewaretoken": $("[name = 'csrfmiddlewaretoken']").val()-->
            },
            success: function (res) {
                console.log(res);
                $('[name="i3"]').val(res)

            }
        })
    });
</script>

<button id="b2">测试练习</button>
<script>
        $('#b2').click(function () {
        $.ajax({
            url: '/ajax_test/',
            type: 'post',
            data: {
                user:"tian",
                password:"jian",
            },
            success: function (res) {
                console.log(res);
                $('[name="i3"]').val(res)

            }
        })
    });
</script>
</body>
</html>